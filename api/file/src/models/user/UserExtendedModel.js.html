<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/models/user/UserExtendedModel.js | playerme-core: 0.4.0 API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/UnofficialPlayerMe/playerme-core" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">api/auth</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/auth/AuthService.js~AuthService.html">AuthService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/auth/OAuthSessionModel.js~OAuthSessionModel.html">OAuthSessionModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/auth/OAuthSessionResponse.js~OAuthSessionResponse.html">OAuthSessionResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-authService">authService</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">api/request</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/APIService.js~APIService.html">APIService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-aPIService">aPIService</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">api/request/adapter</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/adapter/AbstractRequestAdapter.js~AbstractRequestAdapter.html">AbstractRequestAdapter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/adapter/JSONPRequestAdapter.js~JSONPRequestAdapter.html">JSONPRequestAdapter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/adapter/NodeRequestAdapter.js~NodeRequestAdapter.html">NodeRequestAdapter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/adapter/XMLHttpRequestAdapter.js~XMLHttpRequestAdapter.html">XMLHttpRequestAdapter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-jSONPRequestAdapter">jSONPRequestAdapter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-xMLHttpRequestAdapter">xMLHttpRequestAdapter</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">api/request/response</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/response/AbstractResponse.js~AbstractResponse.html">AbstractResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/response/CollectionResponse.js~CollectionResponse.html">CollectionResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/response/EntityResponse.js~EntityResponse.html">EntityResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/response/ErrorResponse.js~RawResponse.html">RawResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/response/PagerData.js~PagerData.html">PagerData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/request/response/RawResponse.js~RawResponse.html">RawResponse</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">api/users</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/users/UserCollectionResponse.js~UserCollectionResponse.html">UserCollectionResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/users/UserEntityResponse.js~UserEntityResponse.html">UserEntityResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api/users/UsersRepository.js~UsersRepository.html">UsersRepository</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-usersRepository">usersRepository</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">models/activity</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/activity/ActivityModel.js~ActivityModel.html">ActivityModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/activity/ActivityPostData.js~ActivityPostMetaData.html">ActivityPostMetaData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/activity/ActivityVideoData.js~ActivityVideoData.html">ActivityVideoData</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">models/activity/comment</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/activity/comment/CommentMeta.js~CommentMeta.html">CommentMeta</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/activity/comment/CommentModel.js~CommentModel.html">CommentModel</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">models/game</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/game/GameExtendedModel.js~GameCompany.html">GameCompany</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/game/GameExtendedModel.js~GameExtendedModel.html">GameExtendedModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/game/GameExtendedModel.js~GamePlatform.html">GamePlatform</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/game/GameMetadataModel.js~GameMetadataModel.html">GameMetadataModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/game/GameModel.js~GameModel.html">GameModel</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">models/notification</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/notification/NotificationModel.js~NotificationModel.html">NotificationModel</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">models/user</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/user/UserExtendedModel.js~UserExtendedModel.html">UserExtendedModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/models/user/UserModel.js~UserModel.html">UserModel</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">realtime</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/realtime/RealTimeService.js~RealTimeService.html">RealTimeService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/realtime/Sails.js~Sails.html">Sails</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">realtime/api</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/realtime/api/AbstractRealTimeAPI.js~AbstractRealTimeAPI.html">AbstractRealTimeAPI</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/realtime/api/RealTimeResponse.js~RealTimeResponse.html">RealTimeResponse</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">realtime/api/feed</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/realtime/api/feed/FeedRealTime.js~FeedRealTime.html">FeedRealTime</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">realtime/api/notifications</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/realtime/api/notifications/NotificationsRealTime.js~NotificationsRealTime.html">NotificationsRealTime</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/models/user/UserExtendedModel.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import UserModel from &apos;./UserModel&apos;;

/**
 * A model representing an extended data set for a Player.me User.
 * @extends UserModel
 * @memberOf module:models/user
 */
class UserExtendedModel extends UserModel{
    /**
     * Create a new extended User model.
     * @param {Object} [obj] A player response object to initialise this model with.
     */
    constructor(obj=null)
    {
        var toDate = (str) =&gt; {
            if (!str) return null;
            return new Date(str);
        };

        super(obj);
        var cover = obj &amp;&amp; obj.cover || null;
        var avatar = obj &amp;&amp; obj.avatar || null;

        this._shortDescription          = obj    &amp;&amp; obj   .short_description    || &apos;&apos;;
        this._description               = obj    &amp;&amp; obj   .description          || &apos;&apos;;
        this._descriptionHtml           = obj    &amp;&amp; obj   .descriptionHtml      || &apos;&apos;;
        this._coverOriginal             = cover  &amp;&amp; cover .original             || &apos;&apos;;
        this._coverCached               = cover  &amp;&amp; cover .cached               || &apos;&apos;;
        this._coverOriginalFilename     = cover  &amp;&amp; cover .original_filename    || &apos;&apos;;
        this._avatarOriginal            = avatar &amp;&amp; avatar.original             || &apos;&apos;;
        this._avatarCached              = avatar &amp;&amp; avatar.cached               || &apos;&apos;;
        this._avatarOriginalFilename    = avatar &amp;&amp; avatar.original_filename    || &apos;&apos;;
        this._createdAt                 = obj    &amp;&amp; toDate(obj.created_at)      || &apos;&apos;;
        this._generatedBy               = obj    &amp;&amp; obj   .generated_by         || null;
        this._isCurrentUser             = obj    &amp;&amp; obj   .is_current_user      || false;
        this._isFollowing               = obj    &amp;&amp; obj   .is_following         || false;
        this._isFollowed                = obj    &amp;&amp; obj   .is_followed          || false;
        this._isFriend                  = obj    &amp;&amp; obj   .is_friend            || false;
        this._isBlocked                 = obj    &amp;&amp; obj   .is_blocked           || false;
        this._canMessage                = obj    &amp;&amp; obj   .can_message          || false;
        this._isOnline                  = obj    &amp;&amp; obj   .is_online            || false;
        this._followingCount            = obj    &amp;&amp; obj   .following_count      || 0;

        // Group specific
        this._isConfirmedGroupMember = obj &amp;&amp; obj.is_confirmed_group_member || false;
        this._canConfirmMembership   = obj &amp;&amp; obj.can_confirm_membership    || false;
        this._canRemoveMembership    = obj &amp;&amp; obj.can_remove_membership     || false;

        // Overrides
        if (cover)  this._cover  = cover.cached;
        if (avatar) this._avatar = avatar.cached;

        //Convert ISO date strings to Dates
        this._createdAt = (this._createdAt ? new Date(this._createdAt) : false) || null;
    }

    toString() {
        var msg = &apos;[UserExtendedModel&apos;;
        if (this._id) msg += &apos; #&apos;+this._id;
        if (this._slug) msg += &apos; &quot;&apos;+this._slug+&apos;&quot;&apos;;
        return msg +&apos;]&apos;;
    }

    /**
     * The user&apos;s short bio.
     * @readonly
     * @member {string} UserExtendedModel#shortDescription
     * @returns {string}
     */
    get shortDescription() {
        return this._shortDescription;
    }

    /**
     * The user&apos;s bio.
     * @readonly
     * @member {string} UserExtendedModel#description
     * @returns {string}
     */
    get description() {
        return this._description;
    }

    /**
     * The user&apos;s bio in HTML.
     * @readonly
     * @member {string} UserExtendedModel#descriptionHtml
     * @returns {string}
     */
    get descriptionHtml() {
        return this._descriptionHtml;
    }

    /**
     * The path to the original cover image.
     * @readonly
     * @member {string} UserExtendedModel#coverOriginal
     * @returns {string}
     */
    get coverOriginal() {
        return this._coverOriginal;
    }

    /**
     * The original cover image&apos;s filename.
     * @readonly
     * @member {string} UserExtendedModel#coverOriginalFilename
     * @returns {string}
     */
    get coverOriginalFilename() {
        return this._coverOriginalFilename;
    }

    /**
     * The path to the original avatar.
     * @readonly
     * @member {string} UserExtendedModel#avatarOriginal
     * @returns {string}
     */
    get avatarOriginal() {
        return this._avatarOriginal;
    }

    /**
     * The original avatar&apos;s filename.
     * @readonly
     * @member {string} UserExtendedModel#avatarOriginalFilename
     * @returns {string}
     */
    get avatarOriginalFilename() {
        return this._avatarOriginalFilename;
    }

    /**
     * The date and time the user was created on.
     * @readonly
     * @member {Date} UserExtendedModel#createdAt
     * @returns {Date}
     */
    get createdAt() {
        return this._createdAt;
    }

    /**
     * TODO What is a user&apos;s generatedBy field?
     * @readonly
     * @member {string} UserExtendedModel#generatedBy
     * @returns {string}
     */
    get generatedBy() {
        return this._generatedBy;
    }

    /**
     * Whether this is the logged in user.
     * @readonly
     * @member {boolean} UserExtendedModel#isCurrentUser
     * @returns {boolean}
     */
    get isCurrentUser() {
        return this._isCurrentUser;
    }

    /**
     * Whether this user is following the logged in user.
     * @readonly
     * @member {boolean} UserExtendedModel#isFollowing
     * @returns {boolean}
     */
    get isFollowing() {
        return this._isFollowing;
    }

    /**
     * Whether the logged in user has followed this user.
     * @readonly
     * @member {boolean} UserExtendedModel#isFollowed
     * @returns {boolean}
     */
    get isFollowed() {
        return this._isFollowed;
    }

    /**
     * Whether this and the logged in user are following each other.
     * @readonly
     * @member {boolean} UserExtendedModel#isFriend
     * @returns {boolean}
     */
    get isFriend() {
        return this._isFriend;
    }

    /**
     * Whether the logged in user has blocked this user.
     * @readonly
     * @member {boolean} UserExtendedModel#isBlocked
     * @returns {boolean}
     */
    get isBlocked() {
        return this._isBlocked;
    }

    /**
     * Whether the logged in user can message this user.
     * @readonly
     * @member {boolean} UserExtendedModel#canMessage
     * @returns {boolean}
     */
    get canMessage() {
        return this._canMessage;
    }

    /**
     * Whether the user is logged in.
     * @readonly
     * @member {boolean} UserExtendedModel#isOnline
     * @returns {boolean}
     */
    get isOnline() {
        return this._isOnline;
    }

    /**
     * The number of user&apos;s this user is following.
     * @readonly
     * @member {number} UserExtendedModel#followingCount
     * @returns {number}
     */
    get followingCount() {
        return this._followingCount;
    }

    /**
     * Whether the logged in user is a member of this group.
     * @readonly
     * @member {boolean} UserExtendedModel#isConfirmedGroupMember
     * @returns {boolean}
     */
    get isConfirmedGroupMember() {
        return this._isConfirmedGroupMember;
    }

    /**
     * Whether the logged in user has rights to confirm memberships.
     * TODO Confirm the description for canConfirmMembership() is correct
     * @readonly
     * @member {boolean} UserExtendedModel#canConfirmMembership
     * @returns {boolean}
     */
    get canConfirmMembership() {
        return this._canConfirmMembership;
    }

    /**
     * Whether the logged in user has rights to remove memberships.
     * TODO Confirm the description for canRemoveMembership() is correct
     * @readonly
     * @member {boolean} UserExtendedModel#canRemoveMembership
     * @returns {boolean}
     */
    get canRemoveMembership() {
        return this._canRemoveMembership;
    }
}

export default UserExtendedModel;
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
