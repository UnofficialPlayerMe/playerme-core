<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Unofficial PlayerMe Core</title>

    <script src="../../../dist/web/playerme-core.js"></script>
    <script src="../../helpers/logLibrary.js"></script>

    <style>
        #examples pre {
            background-color: #AADDFF;
            padding: 3px;
        }
    </style>

    <script>
        window.onload = function() {
            logLibrary('PlayerMe', PlayerMe);
            var GraphQL = PlayerMe.GraphQL;

            window.QueryGroup               = GraphQL.QueryGroup;
            window.QuerySelection           = GraphQL.QuerySelection;
            window.QuerySelectionCollection = GraphQL.QuerySelectionCollection;
            window.QueryFragment            = GraphQL.QueryFragment;
            window.RootQuery                = GraphQL.RootQuery;
        };

        function process(){
            var text = document.getElementById('text_area').value;
            var result = eval(text);
            console.log({
                input:  text,
                output: result && result.toQueryString && result.toQueryString(),
                value:  result
            });
        }

    </script>
</head>
<body>

<h1>Demo: GraphQL Builder</h1>
<p>
    Enter some valid JavaScript using <b>QueryGroup</b>, <b>QuerySelection</b>, <b>QuerySelectionCollection</b>, <b>QueryFragment</b> & <b>RootQuery</b>. <br />
    See examples.
</p>

<h3>JavaScript</h3>
<textarea id="text_area"
          autofocus spellcheck="false"
          placeholder="JavaScript"
          rows="20" cols="80"
></textarea>
<br />
<button onclick="process()">Process</button>

<h3>Examples</h3>
<div id="examples">

<pre>new QueryGroup(
    new QuerySelection(
        "user", {id:123}, [new QueryFragment("username")]
    )
)</pre>
<pre>RootQuery.user("me", [new QueryFragment("id")], "myself")</pre>

</div>
</body>
